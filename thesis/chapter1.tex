\chapter{مقدمه}

راه‌اندازی و استقرار سرویس در صنعت مخابرات به طور سنتی بر این اساس است که اپراتورهای شبکه سخت‌افزارهای اختصاصی فیزیکی و تجهیزات لازم برای هر کارکرد در سرویس را در زیرساخت خود مستقر کنند.
فراهم کردن نیازمندی‌هایی مانند پایداری و کیفیت بالا منجر به اتکای فراهم کنندگان سرویس بر سخت‌افزارهای اختصاصی می‌شود. 
این در حالی است که نیازمندی کاربران به سرویس‌های متنوع و عموما با عمرکوتاه و نرخ بالای ترافیک افزایش یافته است.
بنابراین فرا‌هم‌کنندگان سرویس‌ها باید مرتبا و به صورت پیوسته تجهیزات فیزیکی جدید را خریده، انبارداری کرده و مستقر کنند.
تمام این عملیات باعث افزایش هزینه‌های فراهم‌کنندگان سرویس می‌شود.
با افزایش تجهیزات، پیدا کردن فضای فیزیکی برای استقرار تجهیزات جدید به مرور دشوارتر می‌شود.
علاوه بر این باید افزایش هزینه و تاخیر ناشی از آموزش کارکنان برای کار با تجهیزات جدید را نیز در نظر گرفت.
بدتر این که هر چه نوآوری سرویس‌ها و فناوری شتاب بیشتری می‌گیرد، چرخه عمر سخت‌افزارها کوتاه‌تر می‌شود که مانع از ایجاد نوآوری در سرویس‌های شبکه می‌شود.

در روش سنتی استقرار سرویس شبکه، ترافیک کاربر باید از تعدادی کارکرد شبکه به ترتیب معینی عبور کند تا یک مسیر پردازش ترافیک ایجاد شود.
در حال حاضر این کارکردها به صورت سخت‌افزاری به یکدیگر متصل هستند و ترافیک با استفاده از جداول مسیریابی به سمت آن‌ها هدایت می‌شود.
چالش اصلی این روش در این است که استقرار و تغییر ترتیب کارکردها دشوار است.
به عنوان مثال، به مرور زمان با تغییر شرایط شبکه نیازمند تغییر همبندی و یا مکان کارکردها برای سرویس‌دهی بهتر به کاربران هستیم که نیاز به جا‌به‌جایی کارکردها و تغییر جداول مسیریابی دارد.
در روش سنتی، این کار، سخت و هزینه‌بر است که ممکن است خطاهای بسیاری در آن رخ دهد.
از جنبه دیگر، تغییر سریع سرویس‌های مورد نظر کاربران نیازمند تغییر سریع در ترتیب کارکردها است که در روش فعلی این تغییرات به سختی صورت می‌گیرد.
بنابراین اپراتورهای شبکه نیاز به شبکه‌های قابل برنامه‌ریزی و ایجاد زنجیره سرویس کارکردها به صورت پویا پیدا کرده‌اند.

در سال‌های اخیر دو تکنولوژی شبکه‌های نرم‌افزارمحور و مجازی‌سازی شبکه بسیار مورد توجه قرار گرفته‌اند.
پیش‌تر در ارائه سرویس‌های شبکه، از سخت‌افزارهای اختصاصی که توسط سازندگان اختصاصی ارائه می‌شد و به آن‌ها
\lr{middle box}
گفته می‌شد استفاده می‌گشت.
تنوع و تعداد رو به افزایش سرویس‌های جدیدی که توسط کاربران تقاضا می‌گردد
باعث هزینه‌های زیاد برای خرید و نگهداری
\lr{middle box}‌ها
توسط اپراتورها شده است.
به تازگی فراهم‌آورندگان شبکه
شروع به حرکت به سوی مجازی‌سازی و نرم‌افزاری کردن بسترهای شبکه کرده‌اند.
به این ترتیب آن‌ها قادر خواهند بود
سرویس‌های نوآورانه‌ای به کاربران ارائه دهند.
این روند به سرویس‌دهندگان اجازه می‌دهد که ارائه سرویس‌های دلخواه‌شان وابسته به سخت‌افزارهای اختصاصی نباشد و 
هزینه‌های راه‌اندازی و نگهداری فراهم آوردندگان سرویس را کاهش می‌دهد.
با نرم‌افزاری‌سازی کارکردها، وابستگی آن‌ها به سخت افزار اختصاصی کاهش یافته و به سرعت می‌توان آن‌ها را افزایش/کاهش مقیاس داد.
مجازی‌سازی کارکردهای شبکه و زنجیره‌سازی کارکرد سرویس‌ راهکاری‌هایی هستند که برای همین منظور پیشنهاد شده‌اند.

ایده‌ی اصلی مجازی‌سازی توابع شبکه جداسازی تجهیزات فیزیکی شبکه از کارکردهایی می‌باشد که
بر روی آن‌ها اجرا می‌شوند.
به این معنی که یک کارکرد شبکه مانند دیوار آتش می‌تواند بر روی سرورهای
\lr{HVS}\footnote{\lr{High Volume Server}}
به عنوان یک نرم‌افزار ساده مستقر شود.
با این روش یک سرویس می‌تواند با استفاده از کارکردهای مجازی شبکه‌ای که می‌توانند به صورت نرم‌افزاری پیاده‌سازی شده
و روی یک یا تعدادی میزبان استاندارد فیزیکی اجرا شوند، استقرار یابد.
کارکردهای مجازی شبکه‌ای می‌توانند در مکان‌های مختلف بازمکان‌یابی یا نمونه‌سازی شوند بدون آنکه
نیاز به خریداری و نصب تجهیز جدیدی باشد.
\cite{Mijumbi2016}

ذکر این نکته خالی از لطف نیست که در \lr{SDN} در رابطه با جدول‌های جلورانی بحث می‌شود که این جدول‌ها به صورت متمرکز به روزرسانی شوند.
این بحث در کنار \lr{NFV} نیز می‌تواند صورت بگیرد چرا که بحث \lr{NFV} در لایه‌ی سرویس بوده و
در رابطه با چگونگی به روزرسانی جدول‌های جلورانی صحبت نمی‌کند.
بنابراین آنچه در این پژوهش آمده است مرتبط با شبکه‌های \lr{NFV} بوده اما
می‌توان آن را در شبکه‌هایی که زیرساخت \lr{SDN} دارند نیز به کار برد.
در آینده می‌توان شبکه‌هایی داشت که سرویس‌های آن‌ها بر اساس \lr{SFC} و \lr{NFV} ارائه می‌شوند و جدول‌های جلورانی با استفاده از \lr{SDN} به روزرسانی می‌گردند.

\section{تعریف صورت مساله}
مساله‌ی جاسازی کارکردهای مجازی شبکه یکی از چالش‌های مهم در تخصیص منابع به زنجیره‌های کارکرد سرویس می‌باشد.
مساله جاسازی کارکردهای مجازی شبکه به دو زیر مساله‌ی نگاشت گره‌های مجازی و نگاشت یال‌های تقسیم می‌شود، که می‌بایست
به صورت توامان در نظر گرفته شوند.

البته محدودیت‌های زیادی وجود دارد که باید هنگام نگاشت در نظر گرفته شود. منابع فیزیکی انتخاب شده
از شبکه زیرساخت باید نیازمندی‌های کارکرد شبکه مجازی را تامین کنند. به عنوان مثال
قدرت پردازشی کارکرد‌های مجازی باید کمتر یا مساوی با قدرت پردازشی گره فیزیکی باشد که نگاشت
روی آن انجام شده است.
یا نیازمندی یک کارکرد به یک سرور فیزیکی خاص
برای اجرا که می‌بایست مدنظر قرار داده شود.

علاوه بر این، مجموعه‌ای از محدودیت‌ها وجود دارد که مختص زنجیره‌های کارکرد سرویس می‌باشد.
یکی از این موارد وجود
\lr{VNFM}
در این شبکه‌ها می‌باشد که به علت اهمیت میزان تاخیر ارتباط بین کارکرد مجازی شبکه و
\lr{VNFM}
می‌بایست در مکان مناسبی جایابی شود. بنابراین زیرمساله‌ی جدیدی به مساله‌ی اصلی اضافه می‌شود.

\section{اهمیت مساله}
مساله‌ی جاسازی زنجیره‌های کارکرد سرویس از اهمیت زیادی برخوردار است و پژوهش‌های زیادی
بر روی آن صورت پذیرفته است.
در کنار این، مساله مدیریت و نظارت این زنجیره‌ها نیز مطرح است
که این پروژه برای اولین بار این موضوع را نیز مدنظر قرار داده است که باعث می‌شود اهمیت
مساله دو چندان شود.

امروزه هزینه‌ی زیادی صرف نظارت مراکز داده می‌شود و نظارت برای سرویس‌ها امر بسیار مهمی است.
در بسیاری از موارد نظارت امری است که در آینده به آن فکر می‌شود و
آسیب‌های زیادی در پی دارد.
این پژوهش قصد دارد نیازمندی نظارت برای سرویس‌ها را در زمان نگاشت آن‌ها مدنظر قرار دهد تا
از خسارت‌های نبود نظارت برای سرویس‌ها جلوگیری کند.

\section{نوآوری}
ایده‌ی اصلی این پژوهش، ارائه‌ی یک راه‌حل جامع و کامل که تمامی ابعاد مساله‌ی جاسازی
زنجیره‌های کارکرد سرویس را در بربگیرد، است.
در واقع در این مساله علاوه بر در نظر گرفتن ابعاد اصلی مساله‌ی جاسازی مکانیزم کنترل پذیرش،
قابل اعمال بودن راه‌حل به توپولوژی‌های مختلف و وجود محدودیت‌های گره و یال، ابعاد دیگری نیز در نظر گرفته شده است.
به علت وجود \lr{VNFM}
به عنوان یک گره خاص و اهمیت تاخیر اتصالات کارکرد مجازی شبکه و \lr{VNFM}،
یک مرحله جایابی و نگاشت به مساله‌ی اصلی اضافه شده است.
در ادامه محدودیت‌هایی برای اتصالات بین کارکردهای مجازی شبکه و \lr{VNFM}ها
در نظر گرفته شده است و فرض شده است برای مدیریت تعداد مشخصی از کارکردهای مجازی نیاز به تهیه
مجوز با هزینه‌ای مشخص است.

\begin{itemize}
    \item
    یکی از نوآوری‌های اصلی این رساله تعریف مساله‌ای با در نظر گرفتن نیازمندی‌های مدیریتی است
    که به مدیر سیستم امکان می‌دهد تا تمامی سیاست‌های مورد نظرش را در مساله اعمال و تنظیم نماید.
    مساله‌ی جایگذاری زنجیره‌های کارکرد سرویس مساله‌ای بسیار مهم در این حوزه است
    که این رساله این مساله را به صورت \emph{توامان} با محدودیت‌های منابع مدیریتی بررسی کرده و
    آن را در قالب یک مساله‌ی کنترل پذیرش به صورت خطی صحیح فرمول‌بندی می‌کند.
    \item
    نوآوری دیگری این رساله ارائه‌ی یک روش مکاشفه‌ای بر پایه ایده‌ی الگوریتم \cite{Bari2015}
    می‌باشد که در ادامه زمان اجرا و سود نهایی آن را نیز بهبود می‌دهد.
\end{itemize}

\section{ساختار گزارش}
در ادامه معماری \lr{NFV}
را معرفی می‌کنیم
و به چالش‌هایی که در \lr{MANO} وجود دارد می‌پردازیم.
در فصل سوم کارهای مرتبط مرور می‌شوند و در فصل چهارم مساله تعریف شده به همراه فرمول‌بندی بیان می‌گردد. در فصل پنجم
در مورد راه‌حل پیشنهادی برای مساله بحث خواهد شد.
در آخر در فصل ششم راه‌حل پیشنهادی ارزیابی می‌گردد
و نتایج در فصل هفتم جمع‌بندی می‌گردند.
